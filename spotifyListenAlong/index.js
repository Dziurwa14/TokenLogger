(function(i,a,o,f,c,y){"use strict";const p=o.findByStoreName("SpotifyStore"),{sync:g}=o.findByProps("play","sync"),v=o.findByProps("getCurrentUser").getCurrentUser;function m(t){let{background:r,activity:n,user:e}=t;return p.getSyncingWith()?.userId==e.id||v().id?c.React.createElement(c.React.Fragment,null):c.React.createElement(y.Button,{text:"Listen Along",size:"small",style:{backgroundColor:r,marginTop:8},onPress:function(){return g(n,e.id)}})}const h=o.findByName("UserProfileSection",!1);let u=[];var B={onLoad:function(){u.push(a.before("default",h,function(t){let[r]=t;if(r.title?.toLowerCase().includes("spotify")){const n=f.findInReactTree(r.children,function(e){return e?.type?.name==="Actions"});if(n){const{activityButtonColor:e,activity:s,user:l}=n.props;e&&s&&l&&u.push(a.after("type",n,function(b,d){return d.props.children=[d.props.children,React.createElement(m,{background:e,activity:s,user:l})]},!0))}else console.log("no actions :(")}}))},onUnload:function(){for(const t of u)t()}};return i.default=B,Object.defineProperty(i,"__esModule",{value:!0}),i})({},vendetta.patcher,vendetta.metro,vendetta.utils,vendetta.metro.common,vendetta.ui.components);
