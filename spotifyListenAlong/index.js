(function(i,u,r,f,c,y){"use strict";const p=r.findByStoreName("SpotifyStore"),{sync:v}=r.findByProps("play","sync");function g(t){let{background:o,activity:n,user:e}=t;return p.getSyncingWith()?.userId===e.id?c.React.createElement(c.React.Fragment,null):c.React.createElement(y.Button,{text:"Listen Along",size:"small",style:{backgroundColor:o,marginTop:8},onPress:function(){return v(n,e.id)}})}const m=r.findByName("UserProfileSection",!1);let a=[];var h={onLoad:function(){a.push(u.before("default",m,function(t){let[o]=t;if(o.title?.toLowerCase().includes("spotify")){const n=f.findInReactTree(o.children,function(e){return e?.type?.name==="Actions"});if(n){const{activityButtonColor:e,activity:s,user:l}=n.props;e&&s&&l&&a.push(u.after("type",n,function(b,d){return d.props.children=[d.props.children,React.createElement(g,{background:e,activity:s,user:l})]},!0))}else console.log("no actions :(")}}))},onUnload:function(){for(const t of a)t()}};return i.default=h,Object.defineProperty(i,"__esModule",{value:!0}),i})({},vendetta.patcher,vendetta.metro,vendetta.utils,vendetta.metro.common,vendetta.ui.components);
